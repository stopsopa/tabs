<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <title>tabs by Szymon Dzia≈Çowski</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

    <link rel="stylesheet" href="vanilla-tabs.css" />
    <style>
      body {
        background-color: antiquewhite;
      }
      .spacer {
        padding-top: 30px;
      }
    </style>
  </head>
  <body>
    <div data-vanilla-tabs>
      <div data-buttons>
        <a href="javascript:;">first create html</a>
        <span>then run code</span>
        <span>the result will be </span>
      </div>
      <div data-tabs>
        <div>
          <pre>
&lt;div data-vanilla-tabs&gt;
    &lt;div data-buttons&gt;
        &lt;a href="javascript:;"&gt;html&lt;/a&gt;
        &lt;span class="active"&gt;javascript&lt;/span&gt;
        &lt;span&gt;result&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-tabs&gt;
        &lt;div&gt;
            my stuff for tab 1
        &lt;/div&gt;
        &lt;div&gt;
            my stuff for tab 2
            &lt;br /&gt;
            &lt;img src="//i.imgur.com/SkkKinS.jpg" width="110" /&gt
        &lt;/div&gt;
        &lt;div&gt;
            my stuff for tab 3
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
          </pre>
          <div style="clear: both"></div>
        </div>
        <div>
          <pre>

&lt;script src="vanilla-tabs.js"&gt;&lt;/script&gt;
&lt;script&gt;        
  const unbind = vanillaTabs.bind();
  vanillaTabs.active();
&lt;/script&gt;

</pre
          >
          <button class="create">create</button>
          <button class="add_tab">add tab</button>
        </div>
        <div>
          <div data-vanilla-tabs>
            <div data-buttons>
              <a href="javascript:;">html</a>
              <span class="active">javascript</span>
              <span>result</span>
            </div>
            <div data-tabs>
              <div>my stuff for tab 1</div>
              <div>
                my stuff for tab 2
                <br />
                <img src="//i.imgur.com/SkkKinS.jpg" width="110" />
              </div>
              <div>
                my stuff for tab 3
                <button class="create">create</button>
                <button class="add_tab">add tab</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="create">create</button>

    <script src="vanilla-tabs.js?vanilla-tabs-autoenable"></script>

    <script>
      {
        let i = 0;
        document.body.addEventListener("click", function (e) {
          var el = e.target;

          if (!el.matches(".add_tab")) return;

          i += 1;
          const parent = el.closest("[data-vanilla-tabs]");
          const buttons = parent.querySelector("[data-buttons]");
          const tabs = parent.querySelector("[data-tabs]");

          const tab = document.createElement("span");

          const box = document.createElement("div");

          tab.innerText = "tab " + i;

          box.innerText = "content " + i;

          buttons.appendChild(tab);
          tabs.appendChild(box);
        });
      }

      {
        let i = 0;
        document.body.addEventListener("click", function (e) {
          var el = e.target;

          if (!el.matches(".create")) return;

          i += 1;
          const parent = el.parentNode;
          const container = document.createElement("div");
          container.classList.add("spacer");
          container.innerHTML = `
          <div data-vanilla-tabs>
    <div data-buttons>
        <a href="javascript:;">first tab ${i}</a>
        <span class="active">javascript</span>
        <span>result</span>
    </div>
    <div data-tabs>
        <div>
            my stuff for tab 1
        </div>
        <div>
            my stuff for tab 2
            <br />
            <img src="//i.imgur.com/SkkKinS.jpg" width="110" />
        </div>
        <div>
            my stuff for tab 3
            <button class="create">create</button>
            <button class="add_tab">add tab</button>
        </div>
    </div>
</div>
        `;
          parent.appendChild(container);
        });
      }
    </script>
  </body>
</html>
